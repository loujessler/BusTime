middlewares.py [LINE:41] #DEBUG    [2023-06-01 15:02:22,536]  Loaded middleware 'LoggingMiddleware'
selector_events.py [LINE:53] #DEBUG    [2023-06-01 15:02:22,760]  Using selector: KqueueSelector
api.py [LINE:133] #DEBUG    [2023-06-01 15:02:22,761]  Make request: "getMe" with data: "{}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-01 15:02:23,236]  Response for getMe: [200] "'{"ok":true,"result":{"id":1400622643,"is_bot":true,"first_name":"Myhuk","username":"Myhuk_bot","can_join_groups":true,"can_read_all_group_messages":false,"supports_inline_queries":false}}'"
executor.py [LINE:362] #INFO     [2023-06-01 15:02:23,236]  Bot: Myhuk [@Myhuk_bot]
base.py [LINE:1234] #INFO     [2023-06-01 15:02:26,256]  SELECT EXISTS (SELECT 1 FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users')
base.py [LINE:1239] #INFO     [2023-06-01 15:02:26,257]  ()
result.py [LINE:810] #DEBUG    [2023-06-01 15:02:26,431]  Col ('exists',)
result.py [LINE:1260] #DEBUG    [2023-06-01 15:02:26,431]  Row (True,)
api.py [LINE:133] #DEBUG    [2023-06-01 15:02:26,436]  Make request: "sendMessage" with data: "{'chat_id': 6405640, 'text': 'The bot is up and running', 'parse_mode': 'html'}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-01 15:02:26,666]  Response for sendMessage: [200] "'{"ok":true,"result":{"message_id":34,"from":{"id":1400622643,"is_bot":true,"first_name":"Myhuk","username":"Myhuk_bot"},"chat":{"id":6405640,"first_name":"rmdir","last_name":"life","username":"rmdir_life","type":"private"},"date":1685617346,"text":"The bot is up and running"}}'"
api.py [LINE:133] #DEBUG    [2023-06-01 15:02:26,667]  Make request: "setMyCommands" with data: "{'commands': '[{"command": "start", "description": "Start"}]', 'scope': '{"type": "default"}'}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-01 15:02:26,818]  Response for setMyCommands: [200] "'{"ok":true,"result":true}'"
dispatcher.py [LINE:358] #INFO     [2023-06-01 15:02:26,819]  Start polling.
api.py [LINE:133] #DEBUG    [2023-06-01 15:02:26,819]  Make request: "getWebhookInfo" with data: "{}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-01 15:02:26,918]  Response for getWebhookInfo: [200] "'{"ok":true,"result":{"url":"","has_custom_certificate":false,"pending_update_count":0}}'"
api.py [LINE:133] #DEBUG    [2023-06-01 15:02:26,919]  Make request: "getUpdates" with data: "{'timeout': 20}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-01 15:02:47,078]  Response for getUpdates: [200] "'{"ok":true,"result":[]}'"
api.py [LINE:133] #DEBUG    [2023-06-01 15:02:47,180]  Make request: "getUpdates" with data: "{'timeout': 20}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-01 15:03:07,283]  Response for getUpdates: [200] "'{"ok":true,"result":[]}'"
api.py [LINE:133] #DEBUG    [2023-06-01 15:03:07,384]  Make request: "getUpdates" with data: "{'timeout': 20}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-01 15:03:27,476]  Response for getUpdates: [200] "'{"ok":true,"result":[]}'"
api.py [LINE:133] #DEBUG    [2023-06-01 15:03:27,577]  Make request: "getUpdates" with data: "{'timeout': 20}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-01 15:03:47,677]  Response for getUpdates: [200] "'{"ok":true,"result":[]}'"
api.py [LINE:133] #DEBUG    [2023-06-01 15:03:47,779]  Make request: "getUpdates" with data: "{'timeout': 20}" and files "None"
dispatcher.py [LINE:433] #INFO     [2023-06-01 15:03:50,468]  Stop polling...
executor.py [LINE:329] #WARNING  [2023-06-01 15:03:50,469]  Goodbye!
middlewares.py [LINE:41] #DEBUG    [2023-06-02 14:26:24,203]  Loaded middleware 'LoggingMiddleware'
selector_events.py [LINE:53] #DEBUG    [2023-06-02 14:26:24,680]  Using selector: KqueueSelector
api.py [LINE:133] #DEBUG    [2023-06-02 14:26:24,681]  Make request: "getMe" with data: "{}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-02 14:26:25,029]  Response for getMe: [200] "'{"ok":true,"result":{"id":1400622643,"is_bot":true,"first_name":"Myhuk","username":"Myhuk_bot","can_join_groups":true,"can_read_all_group_messages":false,"supports_inline_queries":false}}'"
executor.py [LINE:362] #INFO     [2023-06-02 14:26:25,029]  Bot: Myhuk [@Myhuk_bot]
base.py [LINE:1234] #INFO     [2023-06-02 14:26:28,941]  SELECT EXISTS (SELECT 1 FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users')
base.py [LINE:1239] #INFO     [2023-06-02 14:26:28,941]  ()
result.py [LINE:810] #DEBUG    [2023-06-02 14:26:29,028]  Col ('exists',)
result.py [LINE:1260] #DEBUG    [2023-06-02 14:26:29,029]  Row (True,)
api.py [LINE:133] #DEBUG    [2023-06-02 14:26:29,041]  Make request: "sendMessage" with data: "{'chat_id': 6405640, 'text': 'The bot is up and running', 'parse_mode': 'html'}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-02 14:26:29,217]  Response for sendMessage: [200] "'{"ok":true,"result":{"message_id":404,"from":{"id":1400622643,"is_bot":true,"first_name":"Myhuk","username":"Myhuk_bot"},"chat":{"id":6405640,"first_name":"rmdir","last_name":"life","username":"rmdir_life","type":"private"},"date":1685701589,"text":"The bot is up and running"}}'"
api.py [LINE:133] #DEBUG    [2023-06-02 14:26:29,217]  Make request: "setMyCommands" with data: "{'commands': '[{"command": "start", "description": "Start"}]', 'scope': '{"type": "default"}'}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-02 14:26:29,338]  Response for setMyCommands: [200] "'{"ok":true,"result":true}'"
dispatcher.py [LINE:358] #INFO     [2023-06-02 14:26:29,339]  Start polling.
api.py [LINE:133] #DEBUG    [2023-06-02 14:26:29,339]  Make request: "getWebhookInfo" with data: "{}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-02 14:26:29,431]  Response for getWebhookInfo: [200] "'{"ok":true,"result":{"url":"","has_custom_certificate":false,"pending_update_count":0}}'"
api.py [LINE:133] #DEBUG    [2023-06-02 14:26:29,432]  Make request: "getUpdates" with data: "{'timeout': 20}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-02 14:26:49,610]  Response for getUpdates: [200] "'{"ok":true,"result":[]}'"
api.py [LINE:133] #DEBUG    [2023-06-02 14:26:49,711]  Make request: "getUpdates" with data: "{'timeout': 20}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-02 14:27:09,884]  Response for getUpdates: [200] "'{"ok":true,"result":[]}'"
api.py [LINE:133] #DEBUG    [2023-06-02 14:27:09,985]  Make request: "getUpdates" with data: "{'timeout': 20}" and files "None"
dispatcher.py [LINE:433] #INFO     [2023-06-02 14:27:26,625]  Stop polling...
executor.py [LINE:329] #WARNING  [2023-06-02 14:27:26,627]  Goodbye!
middlewares.py [LINE:41] #DEBUG    [2023-06-02 14:27:28,668]  Loaded middleware 'LoggingMiddleware'
selector_events.py [LINE:53] #DEBUG    [2023-06-02 14:27:28,970]  Using selector: KqueueSelector
api.py [LINE:133] #DEBUG    [2023-06-02 14:27:28,971]  Make request: "getMe" with data: "{}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-02 14:27:29,269]  Response for getMe: [200] "'{"ok":true,"result":{"id":1400622643,"is_bot":true,"first_name":"Myhuk","username":"Myhuk_bot","can_join_groups":true,"can_read_all_group_messages":false,"supports_inline_queries":false}}'"
executor.py [LINE:362] #INFO     [2023-06-02 14:27:29,269]  Bot: Myhuk [@Myhuk_bot]
base.py [LINE:1234] #INFO     [2023-06-02 14:27:32,122]  SELECT EXISTS (SELECT 1 FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users')
base.py [LINE:1239] #INFO     [2023-06-02 14:27:32,122]  ()
result.py [LINE:810] #DEBUG    [2023-06-02 14:27:32,136]  Col ('exists',)
result.py [LINE:1260] #DEBUG    [2023-06-02 14:27:32,137]  Row (True,)
api.py [LINE:133] #DEBUG    [2023-06-02 14:27:32,142]  Make request: "sendMessage" with data: "{'chat_id': 6405640, 'text': 'The bot is up and running', 'parse_mode': 'html'}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-02 14:27:32,303]  Response for sendMessage: [200] "'{"ok":true,"result":{"message_id":405,"from":{"id":1400622643,"is_bot":true,"first_name":"Myhuk","username":"Myhuk_bot"},"chat":{"id":6405640,"first_name":"rmdir","last_name":"life","username":"rmdir_life","type":"private"},"date":1685701652,"text":"The bot is up and running"}}'"
api.py [LINE:133] #DEBUG    [2023-06-02 14:27:32,304]  Make request: "setMyCommands" with data: "{'commands': '[{"command": "start", "description": "Start"}]', 'scope': '{"type": "default"}'}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-02 14:27:32,427]  Response for setMyCommands: [200] "'{"ok":true,"result":true}'"
dispatcher.py [LINE:358] #INFO     [2023-06-02 14:27:32,428]  Start polling.
api.py [LINE:133] #DEBUG    [2023-06-02 14:27:32,428]  Make request: "getWebhookInfo" with data: "{}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-02 14:27:32,540]  Response for getWebhookInfo: [200] "'{"ok":true,"result":{"url":"","has_custom_certificate":false,"pending_update_count":0}}'"
api.py [LINE:133] #DEBUG    [2023-06-02 14:27:32,542]  Make request: "getUpdates" with data: "{'timeout': 20}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-02 14:27:34,970]  Response for getUpdates: [200] "'{"ok":true,"result":[{"update_id":892161457,\n"message":{"message_id":406,"from":{"id":6405640,"is_bot":false,"first_name":"rmdir","last_name":"life","username":"rmdir_life","language_code":"ru","is_premium":true},"chat":{"id":6405640,"first_name":"rmdir","last_name":"life","username":"rmdir_life","type":"private"},"date":1685701654,"text":"/menu","entities":[{"offset":0,"length":5,"type":"bot_command"}]}}]}'"
dispatcher.py [LINE:395] #DEBUG    [2023-06-02 14:27:34,971]  Received 1 updates.
logging.py [LINE:28] #DEBUG    [2023-06-02 14:27:34,972]  Received update [ID:892161457]
logging.py [LINE:36] #INFO     [2023-06-02 14:27:34,973]  Received message [ID:406] in chat [private:6405640]
base.py [LINE:1234] #INFO     [2023-06-02 14:27:34,978]  SELECT users.user_id, users.first_name, users.last_name, users.username, users.status, users.language, users.created_at, users.updated_at 
FROM users 
WHERE users.user_id = $1
base.py [LINE:1239] #INFO     [2023-06-02 14:27:34,978]  (6405640,)
result.py [LINE:810] #DEBUG    [2023-06-02 14:27:35,028]  Col ('user_id', 'first_name', 'last_name', 'username', 'status', 'language', 'created_at', 'updated_at')
base.py [LINE:1234] #INFO     [2023-06-02 14:27:35,031]  SELECT users.user_id, users.first_name, users.last_name, users.username, users.status, users.language, users.created_at, users.updated_at 
FROM users 
WHERE users.user_id = $1
base.py [LINE:1239] #INFO     [2023-06-02 14:27:35,031]  (6405640,)
result.py [LINE:810] #DEBUG    [2023-06-02 14:27:35,032]  Col ('user_id', 'first_name', 'last_name', 'username', 'status', 'language', 'created_at', 'updated_at')
api.py [LINE:133] #DEBUG    [2023-06-02 14:27:35,034]  Make request: "deleteMessage" with data: "{'chat_id': 6405640, 'message_id': 406}" and files "None"
api.py [LINE:133] #DEBUG    [2023-06-02 14:27:35,072]  Make request: "getUpdates" with data: "{'offset': 892161458, 'timeout': 20}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-02 14:27:35,185]  Response for deleteMessage: [200] "'{"ok":true,"result":true}'"
logging.py [LINE:39] #DEBUG    [2023-06-02 14:27:35,186]  Unhandled message [ID:406] in chat [private:6405640]
logging.py [LINE:150] #INFO     [2023-06-02 14:27:35,186]  Process update [ID:892161457]: [failed] (in 214 ms)
base_events.py [LINE:1604] #ERROR    [2023-06-02 14:27:35,186]  Task exception was never retrieved
future: <Task finished coro=<Dispatcher._process_polling_updates() done, defined at /Users/loujessler/Documents/Projects/BUSTIME/venv/lib/python3.7/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=AttributeError("'NoneType' object has no attribute 'language'")>
Traceback (most recent call last):
  File "/Users/loujessler/Documents/Projects/BUSTIME/venv/lib/python3.7/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Users/loujessler/Documents/Projects/BUSTIME/venv/lib/python3.7/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Users/loujessler/Documents/Projects/BUSTIME/venv/lib/python3.7/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Users/loujessler/Documents/Projects/BUSTIME/venv/lib/python3.7/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Users/loujessler/Documents/Projects/BUSTIME/venv/lib/python3.7/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Users/loujessler/Documents/Projects/BUSTIME/handlers/main/inline_handlers/inline_menu.py", line 19, in menu
    Messages(user).finish_registration(),
  File "/Users/loujessler/Documents/Projects/BUSTIME/data/messages/start_messages.py", line 45, in finish_registration
    return message[self.user.language]
AttributeError: 'NoneType' object has no attribute 'language'
api.py [LINE:95] #DEBUG    [2023-06-02 14:27:40,911]  Response for getUpdates: [200] "'{"ok":true,"result":[{"update_id":892161458,\n"message":{"message_id":407,"from":{"id":6405640,"is_bot":false,"first_name":"rmdir","last_name":"life","username":"rmdir_life","language_code":"ru","is_premium":true},"chat":{"id":6405640,"first_name":"rmdir","last_name":"life","username":"rmdir_life","type":"private"},"date":1685701660,"text":"/settings","entities":[{"offset":0,"length":9,"type":"bot_command"}]}}]}'"
dispatcher.py [LINE:395] #DEBUG    [2023-06-02 14:27:40,912]  Received 1 updates.
logging.py [LINE:28] #DEBUG    [2023-06-02 14:27:40,912]  Received update [ID:892161458]
logging.py [LINE:36] #INFO     [2023-06-02 14:27:40,913]  Received message [ID:407] in chat [private:6405640]
base.py [LINE:1234] #INFO     [2023-06-02 14:27:40,916]  SELECT users.user_id, users.first_name, users.last_name, users.username, users.status, users.language, users.created_at, users.updated_at 
FROM users 
WHERE users.user_id = $1
base.py [LINE:1239] #INFO     [2023-06-02 14:27:40,918]  (6405640,)
result.py [LINE:810] #DEBUG    [2023-06-02 14:27:40,919]  Col ('user_id', 'first_name', 'last_name', 'username', 'status', 'language', 'created_at', 'updated_at')
base.py [LINE:1234] #INFO     [2023-06-02 14:27:40,921]  SELECT users.user_id, users.first_name, users.last_name, users.username, users.status, users.language, users.created_at, users.updated_at 
FROM users 
WHERE users.user_id = $1
base.py [LINE:1239] #INFO     [2023-06-02 14:27:40,921]  (6405640,)
result.py [LINE:810] #DEBUG    [2023-06-02 14:27:40,922]  Col ('user_id', 'first_name', 'last_name', 'username', 'status', 'language', 'created_at', 'updated_at')
base.py [LINE:1234] #INFO     [2023-06-02 14:27:40,924]  SELECT users.user_id, users.first_name, users.last_name, users.username, users.status, users.language, users.created_at, users.updated_at 
FROM users 
WHERE users.user_id = $1
base.py [LINE:1239] #INFO     [2023-06-02 14:27:40,924]  (6405640,)
result.py [LINE:810] #DEBUG    [2023-06-02 14:27:40,925]  Col ('user_id', 'first_name', 'last_name', 'username', 'status', 'language', 'created_at', 'updated_at')
api.py [LINE:133] #DEBUG    [2023-06-02 14:27:40,926]  Make request: "deleteMessage" with data: "{'chat_id': 6405640, 'message_id': 407}" and files "None"
api.py [LINE:133] #DEBUG    [2023-06-02 14:27:41,013]  Make request: "getUpdates" with data: "{'offset': 892161459, 'timeout': 20}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-02 14:27:41,116]  Response for deleteMessage: [200] "'{"ok":true,"result":true}'"
logging.py [LINE:39] #DEBUG    [2023-06-02 14:27:41,116]  Unhandled message [ID:407] in chat [private:6405640]
logging.py [LINE:150] #INFO     [2023-06-02 14:27:41,116]  Process update [ID:892161458]: [failed] (in 204 ms)
base_events.py [LINE:1604] #ERROR    [2023-06-02 14:27:41,117]  Task exception was never retrieved
future: <Task finished coro=<Dispatcher._process_polling_updates() done, defined at /Users/loujessler/Documents/Projects/BUSTIME/venv/lib/python3.7/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=AttributeError("'NoneType' object has no attribute 'language'")>
Traceback (most recent call last):
  File "/Users/loujessler/Documents/Projects/BUSTIME/venv/lib/python3.7/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Users/loujessler/Documents/Projects/BUSTIME/venv/lib/python3.7/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Users/loujessler/Documents/Projects/BUSTIME/venv/lib/python3.7/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Users/loujessler/Documents/Projects/BUSTIME/venv/lib/python3.7/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Users/loujessler/Documents/Projects/BUSTIME/venv/lib/python3.7/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Users/loujessler/Documents/Projects/BUSTIME/handlers/main/settings/settings_menu.py", line 30, in settings_menu_command
    Messages(user).menu_msg(),
  File "/Users/loujessler/Documents/Projects/BUSTIME/data/messages/settings_messages.py", line 14, in menu_msg
    f'🌐 Язык: {languages[self.user.language]}'
AttributeError: 'NoneType' object has no attribute 'language'
api.py [LINE:95] #DEBUG    [2023-06-02 14:28:01,110]  Response for getUpdates: [200] "'{"ok":true,"result":[]}'"
api.py [LINE:133] #DEBUG    [2023-06-02 14:28:01,213]  Make request: "getUpdates" with data: "{'offset': 892161459, 'timeout': 20}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-02 14:28:21,357]  Response for getUpdates: [200] "'{"ok":true,"result":[]}'"
api.py [LINE:133] #DEBUG    [2023-06-02 14:28:21,460]  Make request: "getUpdates" with data: "{'offset': 892161459, 'timeout': 20}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-02 14:28:41,632]  Response for getUpdates: [200] "'{"ok":true,"result":[]}'"
api.py [LINE:133] #DEBUG    [2023-06-02 14:28:41,735]  Make request: "getUpdates" with data: "{'offset': 892161459, 'timeout': 20}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-02 14:29:01,918]  Response for getUpdates: [200] "'{"ok":true,"result":[]}'"
api.py [LINE:133] #DEBUG    [2023-06-02 14:29:02,020]  Make request: "getUpdates" with data: "{'offset': 892161459, 'timeout': 20}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-02 14:29:22,142]  Response for getUpdates: [200] "'{"ok":true,"result":[]}'"
api.py [LINE:133] #DEBUG    [2023-06-02 14:29:22,244]  Make request: "getUpdates" with data: "{'offset': 892161459, 'timeout': 20}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-02 14:29:42,481]  Response for getUpdates: [200] "'{"ok":true,"result":[]}'"
api.py [LINE:133] #DEBUG    [2023-06-02 14:29:42,584]  Make request: "getUpdates" with data: "{'offset': 892161459, 'timeout': 20}" and files "None"
dispatcher.py [LINE:433] #INFO     [2023-06-02 14:29:52,250]  Stop polling...
executor.py [LINE:329] #WARNING  [2023-06-02 14:29:52,251]  Goodbye!
middlewares.py [LINE:41] #DEBUG    [2023-06-02 14:29:54,708]  Loaded middleware 'LoggingMiddleware'
selector_events.py [LINE:53] #DEBUG    [2023-06-02 14:29:55,004]  Using selector: KqueueSelector
api.py [LINE:133] #DEBUG    [2023-06-02 14:29:55,005]  Make request: "getMe" with data: "{}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-02 14:29:55,367]  Response for getMe: [200] "'{"ok":true,"result":{"id":1400622643,"is_bot":true,"first_name":"Myhuk","username":"Myhuk_bot","can_join_groups":true,"can_read_all_group_messages":false,"supports_inline_queries":false}}'"
executor.py [LINE:362] #INFO     [2023-06-02 14:29:55,368]  Bot: Myhuk [@Myhuk_bot]
base.py [LINE:1234] #INFO     [2023-06-02 14:29:59,319]  SELECT EXISTS (SELECT 1 FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users')
base.py [LINE:1239] #INFO     [2023-06-02 14:29:59,320]  ()
result.py [LINE:810] #DEBUG    [2023-06-02 14:29:59,430]  Col ('exists',)
result.py [LINE:1260] #DEBUG    [2023-06-02 14:29:59,432]  Row (True,)
api.py [LINE:133] #DEBUG    [2023-06-02 14:29:59,444]  Make request: "sendMessage" with data: "{'chat_id': 6405640, 'text': 'The bot is up and running', 'parse_mode': 'html'}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-02 14:29:59,610]  Response for sendMessage: [200] "'{"ok":true,"result":{"message_id":408,"from":{"id":1400622643,"is_bot":true,"first_name":"Myhuk","username":"Myhuk_bot"},"chat":{"id":6405640,"first_name":"rmdir","last_name":"life","username":"rmdir_life","type":"private"},"date":1685701799,"text":"The bot is up and running"}}'"
api.py [LINE:133] #DEBUG    [2023-06-02 14:29:59,612]  Make request: "setMyCommands" with data: "{'commands': '[{"command": "start", "description": "Start"}]', 'scope': '{"type": "default"}'}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-02 14:29:59,717]  Response for setMyCommands: [200] "'{"ok":true,"result":true}'"
dispatcher.py [LINE:358] #INFO     [2023-06-02 14:29:59,718]  Start polling.
api.py [LINE:133] #DEBUG    [2023-06-02 14:29:59,718]  Make request: "getWebhookInfo" with data: "{}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-02 14:29:59,816]  Response for getWebhookInfo: [200] "'{"ok":true,"result":{"url":"","has_custom_certificate":false,"pending_update_count":0}}'"
api.py [LINE:133] #DEBUG    [2023-06-02 14:29:59,816]  Make request: "getUpdates" with data: "{'timeout': 20}" and files "None"
dispatcher.py [LINE:433] #INFO     [2023-06-02 14:30:11,521]  Stop polling...
executor.py [LINE:329] #WARNING  [2023-06-02 14:30:11,523]  Goodbye!
middlewares.py [LINE:41] #DEBUG    [2023-06-02 14:30:13,587]  Loaded middleware 'LoggingMiddleware'
selector_events.py [LINE:53] #DEBUG    [2023-06-02 14:30:13,887]  Using selector: KqueueSelector
api.py [LINE:133] #DEBUG    [2023-06-02 14:30:13,888]  Make request: "getMe" with data: "{}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-02 14:30:14,184]  Response for getMe: [200] "'{"ok":true,"result":{"id":1400622643,"is_bot":true,"first_name":"Myhuk","username":"Myhuk_bot","can_join_groups":true,"can_read_all_group_messages":false,"supports_inline_queries":false}}'"
executor.py [LINE:362] #INFO     [2023-06-02 14:30:14,185]  Bot: Myhuk [@Myhuk_bot]
base.py [LINE:1234] #INFO     [2023-06-02 14:30:16,998]  SELECT EXISTS (SELECT 1 FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users')
base.py [LINE:1239] #INFO     [2023-06-02 14:30:16,998]  ()
result.py [LINE:810] #DEBUG    [2023-06-02 14:30:17,004]  Col ('exists',)
result.py [LINE:1260] #DEBUG    [2023-06-02 14:30:17,004]  Row (True,)
api.py [LINE:133] #DEBUG    [2023-06-02 14:30:17,008]  Make request: "sendMessage" with data: "{'chat_id': 6405640, 'text': 'The bot is up and running', 'parse_mode': 'html'}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-02 14:30:17,195]  Response for sendMessage: [200] "'{"ok":true,"result":{"message_id":409,"from":{"id":1400622643,"is_bot":true,"first_name":"Myhuk","username":"Myhuk_bot"},"chat":{"id":6405640,"first_name":"rmdir","last_name":"life","username":"rmdir_life","type":"private"},"date":1685701817,"text":"The bot is up and running"}}'"
api.py [LINE:133] #DEBUG    [2023-06-02 14:30:17,196]  Make request: "setMyCommands" with data: "{'commands': '[{"command": "start", "description": "Start"}]', 'scope': '{"type": "default"}'}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-02 14:30:17,329]  Response for setMyCommands: [200] "'{"ok":true,"result":true}'"
dispatcher.py [LINE:358] #INFO     [2023-06-02 14:30:17,330]  Start polling.
api.py [LINE:133] #DEBUG    [2023-06-02 14:30:17,331]  Make request: "getWebhookInfo" with data: "{}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-02 14:30:17,427]  Response for getWebhookInfo: [200] "'{"ok":true,"result":{"url":"","has_custom_certificate":false,"pending_update_count":0}}'"
api.py [LINE:133] #DEBUG    [2023-06-02 14:30:17,429]  Make request: "getUpdates" with data: "{'timeout': 20}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-02 14:30:18,529]  Response for getUpdates: [200] "'{"ok":true,"result":[{"update_id":892161459,\n"message":{"message_id":410,"from":{"id":6405640,"is_bot":false,"first_name":"rmdir","last_name":"life","username":"rmdir_life","language_code":"ru","is_premium":true},"chat":{"id":6405640,"first_name":"rmdir","last_name":"life","username":"rmdir_life","type":"private"},"date":1685701818,"text":"/menu","entities":[{"offset":0,"length":5,"type":"bot_command"}]}}]}'"
dispatcher.py [LINE:395] #DEBUG    [2023-06-02 14:30:18,529]  Received 1 updates.
logging.py [LINE:28] #DEBUG    [2023-06-02 14:30:18,530]  Received update [ID:892161459]
logging.py [LINE:36] #INFO     [2023-06-02 14:30:18,531]  Received message [ID:410] in chat [private:6405640]
base.py [LINE:1234] #INFO     [2023-06-02 14:30:18,536]  SELECT users.user_id, users.first_name, users.last_name, users.username, users.status, users.language, users.created_at, users.updated_at 
FROM users 
WHERE users.user_id = $1
base.py [LINE:1239] #INFO     [2023-06-02 14:30:18,536]  (6405640,)
result.py [LINE:810] #DEBUG    [2023-06-02 14:30:18,539]  Col ('user_id', 'first_name', 'last_name', 'username', 'status', 'language', 'created_at', 'updated_at')
base.py [LINE:1234] #INFO     [2023-06-02 14:30:18,541]  SELECT users.user_id, users.first_name, users.last_name, users.username, users.status, users.language, users.created_at, users.updated_at 
FROM users 
WHERE users.user_id = $1
base.py [LINE:1239] #INFO     [2023-06-02 14:30:18,541]  (6405640,)
result.py [LINE:810] #DEBUG    [2023-06-02 14:30:18,542]  Col ('user_id', 'first_name', 'last_name', 'username', 'status', 'language', 'created_at', 'updated_at')
api.py [LINE:133] #DEBUG    [2023-06-02 14:30:18,543]  Make request: "deleteMessage" with data: "{'chat_id': 6405640, 'message_id': 410}" and files "None"
api.py [LINE:133] #DEBUG    [2023-06-02 14:30:18,631]  Make request: "getUpdates" with data: "{'offset': 892161460, 'timeout': 20}" and files "None"
api.py [LINE:95] #DEBUG    [2023-06-02 14:30:18,717]  Response for deleteMessage: [200] "'{"ok":true,"result":true}'"
logging.py [LINE:39] #DEBUG    [2023-06-02 14:30:18,717]  Unhandled message [ID:410] in chat [private:6405640]
logging.py [LINE:150] #INFO     [2023-06-02 14:30:18,718]  Process update [ID:892161459]: [failed] (in 187 ms)
base_events.py [LINE:1604] #ERROR    [2023-06-02 14:30:18,718]  Task exception was never retrieved
future: <Task finished coro=<Dispatcher._process_polling_updates() done, defined at /Users/loujessler/Documents/Projects/BUSTIME/venv/lib/python3.7/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=AttributeError("'NoneType' object has no attribute 'language'")>
Traceback (most recent call last):
  File "/Users/loujessler/Documents/Projects/BUSTIME/venv/lib/python3.7/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Users/loujessler/Documents/Projects/BUSTIME/venv/lib/python3.7/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Users/loujessler/Documents/Projects/BUSTIME/venv/lib/python3.7/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Users/loujessler/Documents/Projects/BUSTIME/venv/lib/python3.7/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Users/loujessler/Documents/Projects/BUSTIME/venv/lib/python3.7/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Users/loujessler/Documents/Projects/BUSTIME/handlers/main/inline_handlers/inline_menu.py", line 19, in menu
    Messages(user).finish_registration(),
  File "/Users/loujessler/Documents/Projects/BUSTIME/data/messages/start_messages.py", line 45, in finish_registration
    return message[self.user.language]
AttributeError: 'NoneType' object has no attribute 'language'
api.py [LINE:95] #DEBUG    [2023-06-02 14:30:27,129]  Response for getUpdates: [200] "'{"ok":true,"result":[{"update_id":892161460,\n"message":{"message_id":411,"from":{"id":6405640,"is_bot":false,"first_name":"rmdir","last_name":"life","username":"rmdir_life","language_code":"ru","is_premium":true},"chat":{"id":6405640,"first_name":"rmdir","last_name":"life","username":"rmdir_life","type":"private"},"date":1685701827,"text":"1740"}}]}'"
dispatcher.py [LINE:395] #DEBUG    [2023-06-02 14:30:27,129]  Received 1 updates.
logging.py [LINE:28] #DEBUG    [2023-06-02 14:30:27,130]  Received update [ID:892161460]
logging.py [LINE:36] #INFO     [2023-06-02 14:30:27,130]  Received message [ID:411] in chat [private:6405640]
base.py [LINE:1234] #INFO     [2023-06-02 14:30:27,132]  SELECT users.user_id, users.first_name, users.last_name, users.username, users.status, users.language, users.created_at, users.updated_at 
FROM users 
WHERE users.user_id = $1
base.py [LINE:1239] #INFO     [2023-06-02 14:30:27,133]  (6405640,)
result.py [LINE:810] #DEBUG    [2023-06-02 14:30:27,134]  Col ('user_id', 'first_name', 'last_name', 'username', 'status', 'language', 'created_at', 'updated_at')
base.py [LINE:1234] #INFO     [2023-06-02 14:30:27,138]  SELECT users.user_id, users.first_name, users.last_name, users.username, users.status, users.language, users.created_at, users.updated_at 
FROM users 
WHERE users.user_id = $1
base.py [LINE:1239] #INFO     [2023-06-02 14:30:27,138]  (6405640,)
result.py [LINE:810] #DEBUG    [2023-06-02 14:30:27,139]  Col ('user_id', 'first_name', 'last_name', 'username', 'status', 'language', 'created_at', 'updated_at')
_config.py [LINE:84] #DEBUG    [2023-06-02 14:30:27,151]  load_ssl_context verify=True cert=None trust_env=True http2=False
_config.py [LINE:146] #DEBUG    [2023-06-02 14:30:27,152]  load_verify_locations cafile='/Users/loujessler/Documents/Projects/BUSTIME/venv/lib/python3.7/site-packages/certifi/cacert.pem'
_trace.py [LINE:71] #DEBUG    [2023-06-02 14:30:27,228]  connect_tcp.started host='transfer.ttc.com.ge' port=8080 local_address=None timeout=5.0 socket_options=None
api.py [LINE:133] #DEBUG    [2023-06-02 14:30:27,232]  Make request: "getUpdates" with data: "{'offset': 892161461, 'timeout': 20}" and files "None"
_trace.py [LINE:71] #DEBUG    [2023-06-02 14:30:27,337]  connect_tcp.complete return_value=<httpcore.backends.asyncio.AsyncIOStream object at 0x7f94f9c52f10>
_trace.py [LINE:71] #DEBUG    [2023-06-02 14:30:27,338]  send_request_headers.started request=<Request [b'GET']>
_trace.py [LINE:71] #DEBUG    [2023-06-02 14:30:27,339]  send_request_headers.complete
_trace.py [LINE:71] #DEBUG    [2023-06-02 14:30:27,339]  send_request_body.started request=<Request [b'GET']>
_trace.py [LINE:71] #DEBUG    [2023-06-02 14:30:27,339]  send_request_body.complete
_trace.py [LINE:71] #DEBUG    [2023-06-02 14:30:27,339]  receive_response_headers.started request=<Request [b'GET']>
_trace.py [LINE:71] #DEBUG    [2023-06-02 14:30:28,868]  receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Access-Control-Allow-Credentials', b'false'), (b'Content-Type', b'application/json'), (b'Date', b'Fri, 02 Jun 2023 10:30:28 GMT'), (b'Content-Length', b'1369')])
_client.py [LINE:1735] #INFO     [2023-06-02 14:30:28,869]  HTTP Request: GET http://transfer.ttc.com.ge:8080/otp/routers/ttc/stopArrivalTimes?stopId=1740 "HTTP/1.1 200 OK"
_trace.py [LINE:71] #DEBUG    [2023-06-02 14:30:28,869]  receive_response_body.started request=<Request [b'GET']>
_trace.py [LINE:71] #DEBUG    [2023-06-02 14:30:28,870]  receive_response_body.complete
_trace.py [LINE:71] #DEBUG    [2023-06-02 14:30:28,870]  response_closed.started
_trace.py [LINE:71] #DEBUG    [2023-06-02 14:30:28,870]  response_closed.complete
_trace.py [LINE:71] #DEBUG    [2023-06-02 14:30:28,870]  close.started
_trace.py [LINE:71] #DEBUG    [2023-06-02 14:30:28,871]  close.complete
base.py [LINE:1234] #INFO     [2023-06-02 14:30:28,872]  SELECT users.user_id, users.first_name, users.last_name, users.username, users.status, users.language, users.created_at, users.updated_at 
FROM users 
WHERE users.user_id = $1
base.py [LINE:1239] #INFO     [2023-06-02 14:30:28,872]  (6405640,)
result.py [LINE:810] #DEBUG    [2023-06-02 14:30:28,873]  Col ('user_id', 'first_name', 'last_name', 'username', 'status', 'language', 'created_at', 'updated_at')
logging.py [LINE:39] #DEBUG    [2023-06-02 14:30:28,875]  Unhandled message [ID:411] in chat [private:6405640]
logging.py [LINE:150] #INFO     [2023-06-02 14:30:28,876]  Process update [ID:892161460]: [failed] (in 1746 ms)
base_events.py [LINE:1604] #ERROR    [2023-06-02 14:30:28,876]  Task exception was never retrieved
future: <Task finished coro=<Dispatcher._process_polling_updates() done, defined at /Users/loujessler/Documents/Projects/BUSTIME/venv/lib/python3.7/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=AttributeError("'NoneType' object has no attribute 'language'")>
Traceback (most recent call last):
  File "/Users/loujessler/Documents/Projects/BUSTIME/venv/lib/python3.7/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
  File "/Users/loujessler/Documents/Projects/BUSTIME/venv/lib/python3.7/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
  File "/Users/loujessler/Documents/Projects/BUSTIME/venv/lib/python3.7/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Users/loujessler/Documents/Projects/BUSTIME/venv/lib/python3.7/site-packages/aiogram/dispatcher/dispatcher.py", line 256, in process_update
    return await self.message_handlers.notify(update.message)
  File "/Users/loujessler/Documents/Projects/BUSTIME/venv/lib/python3.7/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
  File "/Users/loujessler/Documents/Projects/BUSTIME/handlers/main/arrival_times.py", line 17, in handle_bus_stop_message
    await arrival(bus_stop_id, message)
  File "/Users/loujessler/Documents/Projects/BUSTIME/utils/arrival.py", line 43, in arrival
    msg.bus_arrival_times(),
  File "/Users/loujessler/Documents/Projects/BUSTIME/data/messages/arrival_messages.py", line 31, in bus_arrival_times
    line_msg = self.messages['bus_arrival_times'][self.user.language].format(sticker_time=sticker_time,
AttributeError: 'NoneType' object has no attribute 'language'
api.py [LINE:95] #DEBUG    [2023-06-02 14:30:47,403]  Response for getUpdates: [200] "'{"ok":true,"result":[]}'"
api.py [LINE:133] #DEBUG    [2023-06-02 14:30:47,504]  Make request: "getUpdates" with data: "{'offset': 892161461, 'timeout': 20}" and files "None"
dispatcher.py [LINE:433] #INFO     [2023-06-02 14:30:51,716]  Stop polling...
executor.py [LINE:329] #WARNING  [2023-06-02 14:30:51,718]  Goodbye!
